<div class="bg-dark-300 rounded-lg p-3">
  <h3 class="text-xs text-gray-500 uppercase tracking-wider mb-2">Auto Post Groups</h3>

  <!-- Inner tabs -->
  <div class="flex gap-1 mb-3">
    <button onclick="switchPostGroupTab('targets')" class="pg-tab px-3 py-1.5 rounded-md text-xs font-semibold transition bg-accent text-white" data-pgtab="targets">Target Groups</button>
    <button onclick="switchPostGroupTab('content')" class="pg-tab px-3 py-1.5 rounded-md text-xs font-semibold transition bg-dark-100 text-gray-400 hover:text-white" data-pgtab="content">Post Content</button>
  </div>

  <!-- TAB: Target Groups -->
  <div class="pg-panel" data-pgpanel="targets">
    <!-- Control buttons -->
    <div class="flex gap-1.5 mb-2">
      <button onclick="loadPostGroupsTxt()" class="px-2 py-1.5 bg-dark-100 hover:bg-accent text-gray-300 hover:text-white rounded text-xs font-semibold transition">üìÇ Load TXT</button>
      <button onclick="savePostGroupsTxt()" class="px-2 py-1.5 bg-dark-100 hover:bg-accent text-gray-300 hover:text-white rounded text-xs font-semibold transition">üíæ Save TXT</button>
      <button onclick="clearPostGroups()" class="px-2 py-1.5 bg-dark-100 hover:bg-red-600 text-gray-300 hover:text-white rounded text-xs font-semibold transition">‚úï Clear</button>
    </div>

    <!-- Filter -->
    <div class="mb-2">
      <input type="text" id="pgFilter" oninput="renderPostGroupsTable()" placeholder="üîç Filter by name..." class="w-full px-2.5 py-1.5 bg-dark-100 border border-dark-300 rounded text-xs text-gray-200 outline-none focus:border-accent">
    </div>

    <!-- Count -->
    <div class="text-xs text-gray-500 mb-1">
      Groups: <span id="pgCount" class="text-emerald-400 font-bold">0</span>
    </div>

    <!-- Table -->
    <div class="max-h-[250px] overflow-y-auto rounded border border-dark-100">
      <table class="w-full text-xs">
        <thead>
          <tr class="bg-dark-400 text-gray-500 uppercase sticky top-0">
            <th class="px-2 py-1 text-left w-6">No</th>
            <th class="px-2 py-1 text-left">Group Name</th>
            <th class="px-2 py-1 text-left w-24">Group ID</th>
            <th class="px-2 py-1 text-left w-16">Status</th>
          </tr>
        </thead>
        <tbody id="pgTableBody">
          <tr><td colspan="4" class="px-2 py-3 text-center text-gray-600">No groups. Load from TXT or import from Get Joined Groups.</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- TAB: Post Content -->
  <div class="pg-panel hidden" data-pgpanel="content">
    <!-- Title -->
    <div class="mb-3">
      <label class="block text-[11px] text-gray-500 mb-1">Title <span class="text-gray-600">(optional, typed before caption + Tab)</span></label>
      <input type="text" id="pgTitle" placeholder="e.g. Jual Barang" class="w-full px-2.5 py-2 bg-dark-100 border border-dark-300 rounded-md text-sm text-gray-200 outline-none focus:border-accent">
    </div>

    <!-- Post text / Caption -->
    <div class="mb-3">
      <label class="block text-[11px] text-gray-500 mb-1">Caption <span class="text-gray-600">(use {{opt1|opt2}} for spintax)</span></label>
      <textarea id="pgPostText" rows="4" placeholder="Write your post caption here..." class="w-full px-2.5 py-2 bg-dark-100 border border-dark-300 rounded-md text-sm text-gray-200 outline-none focus:border-accent resize-none"></textarea>
    </div>

    <!-- Media files -->
    <div class="mb-3">
      <label class="block text-[11px] text-gray-500 mb-1">Images / Videos (optional, multiple)</label>
      <div class="flex gap-1.5 mb-1">
        <button onclick="pickPostGroupsMedia()" class="px-3 py-2 bg-dark-100 hover:bg-accent text-gray-300 hover:text-white rounded text-xs font-semibold transition">üì∑ Pick Files</button>
        <button onclick="clearPostGroupsMedia()" class="px-2 py-2 bg-dark-100 hover:bg-red-600 text-gray-300 hover:text-white rounded text-xs font-semibold transition">‚úï Clear</button>
      </div>
      <div id="pgMediaList" class="text-[10px] text-gray-500 max-h-[60px] overflow-y-auto"></div>
    </div>

    <!-- Timing -->
    <div class="mb-3">
      <label class="block text-[11px] text-gray-500 mb-1">Timing</label>
      <div class="grid grid-cols-2 gap-2">
        <div>
          <label class="text-[10px] text-gray-600">Delay Min (sec)</label>
          <input type="number" id="pgDelayMin" value="10" min="1" class="w-full px-2 py-1.5 bg-dark-100 border border-dark-300 rounded text-xs text-gray-200 outline-none focus:border-accent">
        </div>
        <div>
          <label class="text-[10px] text-gray-600">Delay Max (sec)</label>
          <input type="number" id="pgDelayMax" value="120" min="1" class="w-full px-2 py-1.5 bg-dark-100 border border-dark-300 rounded text-xs text-gray-200 outline-none focus:border-accent">
        </div>
        <div>
          <label class="text-[10px] text-gray-600">Rest after N posts</label>
          <input type="number" id="pgRestAfter" value="5" min="0" class="w-full px-2 py-1.5 bg-dark-100 border border-dark-300 rounded text-xs text-gray-200 outline-none focus:border-accent">
        </div>
        <div>
          <label class="text-[10px] text-gray-600">Rest duration (sec)</label>
          <input type="number" id="pgRestSeconds" value="300" min="0" class="w-full px-2 py-1.5 bg-dark-100 border border-dark-300 rounded text-xs text-gray-200 outline-none focus:border-accent">
        </div>
      </div>
    </div>

    <!-- Start / Stop -->
    <div class="flex gap-1.5">
      <button id="btnStartPostGroups" onclick="startAutoPostGroups()" class="flex-1 px-3 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-md text-sm font-bold transition">‚ñ∂ Start</button>
      <button id="btnStopPostGroups" onclick="stopAutoPostGroups()" disabled class="flex-1 px-3 py-2 bg-red-700 hover:bg-red-600 text-white rounded-md text-sm font-bold transition disabled:opacity-40 disabled:cursor-not-allowed">‚èπ Stop</button>
    </div>
  </div>
</div>
